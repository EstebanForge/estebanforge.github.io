<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8"><meta http-equiv="Content-Security-Policy"
content="default-src 'self';font-src &#x27;self&#x27; data: 'self';img-src &#x27;self&#x27; https:&#x2F;&#x2F;* data:;media-src &#x27;self&#x27;;style-src &#x27;self&#x27; 'unsafe-inline';frame-src player.vimeo.com https:&#x2F;&#x2F;www.youtube-nocookie.com giscus.app;connect-src 'self';script-src 'self'  giscus.app  cdn.jsdelivr.net 'self'">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https://actitud.xyz">

    
    <title>
It's about attitude • Bloqueo de publicidad (y malware) para cualquier dispositivo en vuestro hogar</title>

    
    
        <link rel="icon" type="image/png" href="https://actitud.xyz/images/favicon.png"/>
    
    

    
    
        
            
            
                
                    <link rel="alternate" type="application/atom+xml" title="It's about attitude - Atom Feed" href="https://actitud.xyz/atom.xml">
                
            
                
                    <link rel="alternate" type="application/rss+xml" title="It's about attitude - RSS Feed" href="https://actitud.xyz/rss.xml">
                
            
        
    

    
    
    
        
            <link rel="stylesheet" href="https://actitud.xyz/custom_subset.css?h=0b9535a28bc3d5bf2321">
        
    

    
        <link rel="stylesheet" href="https://actitud.xyz/main.css?h=6b1dda977391dad0c76e" />
        <link rel="stylesheet" href="https://actitud.xyz/css/custom.css?h=535738bd9137b34265fb" />

    <meta name="color-scheme" content="light dark" />
        <meta name="description" content="Personal blog about technology, life, and everything in between." />
        <meta property="og:description" content="Personal blog about technology, life, and everything in between." />
        <meta name="twitter:description" content="Personal blog about technology, life, and everything in between." />

    

    <meta property="og:title" content="Bloqueo de publicidad (y malware) para cualquier dispositivo en vuestro hogar" />
    <meta name="twitter:title" content="Bloqueo de publicidad (y malware) para cualquier dispositivo en vuestro hogar" />
    <meta property="og:type" content="article" />

    
    
    
    
        
    

    

    
    
    
    

    

    

<meta property="og:locale" content="en_GB" />

    <meta property="og:url" content="https:&#x2F;&#x2F;actitud.xyz&#x2F;blog&#x2F;2016&#x2F;bloqueo-de-publicidad-y-malware-para-cualquier-dispositivo-en-vuestro-hogar&#x2F;" /><meta property="og:site_name" content="It&#x27;s about attitude">
        <noscript><link rel="stylesheet" href="https://actitud.xyz/no_js.css"/></noscript>
        <script type="text/javascript" src="https://actitud.xyz/js/initializeTheme.min.js"></script>
        <script defer src="https://actitud.xyz/js/themeSwitcher.min.js"></script>
        <script defer src="https://actitud.xyz/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e"></script>

        </head>


<body class="use-sans-serif">
    <header>
    <nav class="navbar">
        <div class="nav-title">
            <a class="home-title" href="https://actitud.xyz">It&#x27;s about attitude</a>
        </div>
            <div class="nav-navs">
                <ul>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://actitud.xyz">home
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://actitud.xyz/esteban/">esteban
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://actitud.xyz/blog/">blog
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https:&#x2F;&#x2F;github.com&#x2F;EstebanForge">github
                                </a>
                            </li>
                        <li class="menu-icons-container">
                        <ul class="menu-icons-group">
                            <li class="js menu-icon">
                                <div role="button" tabindex="0" id="search-button" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" aria-label="Click or press $SHORTCUT to open search">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                        <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                                    </svg>
                                </div>
                            </li>

                            
                            

                            <li class="theme-switcher-wrapper js"><div
        title="Toggle dark&#x2F;light mode"
        class="theme-switcher"
        tabindex="0"
        role="button"
        aria-label="Toggle dark mode"
        aria-pressed="false">
    </div><div
        title="Reset mode to default"
        class="theme-resetter arrow"
        tabindex="0"
        role="button"
        aria-hidden="true"
        aria-label="Reset mode to default">
    </div>

</li>
</ul>
                    </li>
                </ul>
            </div>
        
    </nav>
</header>

    <div class="content">

        
        




<main>
    <article>
        <h1 class="article-title">
            Bloqueo de publicidad (y malware) para cualquier dispositivo en vuestro hogar
        </h1>

        <ul class="meta"><li>By Esteban</li>

            
                <span class="hidden p-author h-card">
<a rel="author" href="https:&#x2F;&#x2F;actitud.xyz" class="u-url " title="Esteban">Esteban</a>
</span>

            
                <li><span class='separator' aria-hidden='true'>•</span>2016-01-08</li><li title="2389 words"><span class='separator' aria-hidden='true'>•</span>12 min read</li>
        </ul>

        <section class="body"><p>Actualización 10 Febrero 2017: Existe <a href="/blog/?p=748">un nuevo artículo</a> sobre el tema aquí expuesto, con un proceso mucho más sencillo para habilitar el bloqueo de publicidad y malware en casa. <a href="/blog/?p=748">Revisar por acá</a>, por favor.</p>
<p>A continuación se deja el artículo antiguo como referencia.</p>
<p><strong>A.k.a. «<em>Adblock</em> para cualquier dispositivo en vuestro hogar»</strong></p>
<p>Desde hace años suelo comprar mis routers con una idea primordial en mente: meterles Linux.</p>
<p>Después de <em>vitrinear</em> en linea y averiguar bien si tienen soporte para firmwares alternativos, y luego de comprado, el ritual es el mismo: flashear Linux en el router. DD-WRT, Open-WRT, Gargoyle o TomatoUSB. El que sea compatible con el modelo comprado.</p>
<img alt="flash-all-the-things" src="/media/2016/flash-all-the-things.jpg" height="300" width="400" />
<p>Los firmwares alternativos, como los mencionados anteriormente, tienen características muy buenas (y mejores) versus el software restringido que normalmente traen de fábrica. Pueden, entre otras cosas, limitar ancho de banda entre usuarios, obtener un mejor manejo del ancho de banda con un buen QoS, servicio de impresora compartida, un NAS compartido, quotas de navegación diaria o mensual, estadísticas de consumo de ancho de banda, conexión directa a VPN, restricciones de acceso para clientes específicos en base a ips/hosts/layer7 y hasta un servidor web o de torrent si quieres. Claro, dependiendo del modelo de router; esto porque la cpu y memoria disponible varía en c/u y por lo mismo no todos pueden ofrecer el set completo de características que entregan estos firmwares basados en Linux.</p>
<p>No les voy a explicar el detalle de todo lo extra que ofrecen. Pueden buscar ustedes mismos si sienten curiosidad.</p>
<p>Vengo a mostrarles un uso que le doy al router de turno en casa hace mucho tiempo (años) y que había olvidado compartir con ustedes antes: el bloqueo de publicidad (y malware) en Internet para todo dispositivo conectado a la red en el hogar.</p>
<p>Uso un router Asus RT-N66U aquí en casa (hace un par de años ya; router muy estable y fiel). Es potente, tiene un buen procesador, suficiente memoria y almacenamiento. Es dual band (WiFi 2.4ghz y 5ghz). Dos puertos USB para meter lo que quieras; impresora, un modem de datos, o un HDD como NAS para que lo puedas consumir desde diferentes PC o con un media player (para películas y otros) como Kodi en un Nexus Player. Muy cómodo y versátil.</p>
<p>Si tienes Linux en el router, abres la posibilidad de hacer todo lo que haces con un servidor/computador tradicional gracias a esto. Por lo mismo, esta guía podría servir para routers corriendo DD-WRT, Open-WRT o Gargoyle. En mi caso, eso si, este Asus Dark Knight RT-N66U está corriendo <a class="external" rel="noopener external" target="_blank" href="http://tomato.groov.pl/?page_id=164">Tomato by Shibby</a>.</p>
<p>Esta guía también funciona para un Asus RT-AC66U. Probado (marzo 2016). Luego de instalar Tomato Shibby en un RT-AC66U, el proceso de configurar el bloqueo de publicidad es exactamente el mismo.</p>
<h2 id="como-instalar-tomato-en-un-asus-rt-n66u-y-en-un-asus-rt-ac66u">¿Cómo instalar Tomato en un Asus RT-N66U y en un Asus RT-AC66U?</h2>
<p>Tampoco lo voy a explicar. No en detalle. La verdad es que hay guías muy buenas y un video completo del proceso. Puedes seguir <a class="external" rel="noopener external" target="_blank" href="https://gist.github.com/joshenders/3941269">esta guía escrita en un gist</a> o bien puedes <a class="external" rel="noopener external" target="_blank" href="https://www.youtube.com/watch?v=Sq2IpjAXvds">mirar este video</a> donde repasan todo el proceso, en detalle. Acá tienen <a class="external" rel="noopener external" target="_blank" href="https://www.youtube.com/watch?v=1UkoZ-YQz7c">otro video más</a>. Para los RT-AC66U, <a class="external" rel="noopener external" target="_blank" href="https://www.youtube.com/watch?v=oELltKbaJ4E">vean este video</a>. En realidad, el proceso es el mismo para los N66U y el AC66U, simplemente cambia el archivo que van a flashear, la versión de Tomato Shibby, por razones obvias.</p>
<h2 id="ya-tienes-tomato-corriendo-en-tu-router-el-que-sea-como-aplicar-adblock-a-nivel-del-router">Ya tienes Tomato corriendo en tu router (el que sea). ¿Como aplicar Adblock a nivel del router?.</h2>
<p>Es muy sencillo. Hay diferentes implementaciones (scripts) que pueden correr y hacer un trabajo similar. Personalmente he decantado por este: <a class="external" rel="noopener external" target="_blank" href="http://www.linksysinfo.org/index.php?threads/all-u-need-ad-blocking.33191/">ALL-U-NEED Ad Blocking</a>.</p>
<p>Primero, abre la interfaz web del router, generalmente en http://192.168.1.1/</p>
<p>Ve a "Administration" y luego a "Scripts". Ahí abre la pestaña "WAN Up".</p>
<p>Pega el script de All-U-Need Ad Blocking dentro del cuadro, guarda los cambios (abajo) y reinicia el router.</p>
<p><a href="/media/2016/rt-n66u-adblock.png"><img alt="RT-N66U-adblock" src="/media/2016/rt-n66u-adblock.png" height="926" width="994" /></a></p>
<p>Dejo un respaldo del script acá, por si acaso:</p>
<p>[code]
sleep 10</p>
<p>ADB="/tmp/ADBLOCK.sh"
{
cat &lt;&lt;'ENDF' &gt;$ADB
#!/bin/sh</p>
<p>OPTIMISE="Y"
GETS="1 2 3 4"
TRIM_BEGIN=3
S1="http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml" #44K
S2="http://mirror1.malwaredomains.com/files/justdomains" #189K
S3="http://www.malwaredomainlist.com/hostslist/hosts.txt" #97K
S4="http://winhelp2002.mvps.org/hosts.txt" #620K
S5="http://hosts-file.net/hphosts-partial.asp" #460K
S6="http://hostsfile.mine.nu/Hosts" #2641K
S7="http://support.it-mate.co.uk/downloads/hosts.txt" #3851K</p>
<p>USEWHITELIST="Y" # N/Y/R for remote
WURL="http://example.com/whitelist.txt"
WHITE="intel.com"
BLACK=""</p>
<p>USEPIXELSERV="N"
PXL_IP=192.168.1.2
PXL_EXE="/tmp/pixelserv"
PXL_URL="http://example.com/pixelserv"</p>
<p>UPLOAD="N"
FTP_SERVER="example.com"
FTP_USER=""
FTP_PASS=""
FTP_PORT=21
FTP_PATH="/gen"</p>
<p>ADD_CONF="N"
USEHOSTS="N"
ROUTER="Y"</p>
<p>NIP="0.0.0.0"</p>
<p>ENDF
}</p>
<p>UPDATE="Y"
AUP() {
if [[ "$UPDATE" == "Y" ]] ; then
if [[ "$(cru l | grep AdUpd | cut -d '#' -f2)" != "AdUpd" ]] ; then
cru a AdUpd "0 4 * * * $ADB"
fi
fi
}</p>
<p>#### DO NOT EDIT BELOW ####</p>
<p>b64="openssl enc -base64 -d"
[[ "$(echo WQ==|$b64)" != "Y" ]] &amp;&amp; b64="b64"</p>
<p>b64(){
awk 'BEGIN{b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}
{for(i=1;i&lt;=length($0);i++){c=index(b64,substr($0,i,1));if(c--)
for(b=0;b&lt;6;b++){o=o*2+int(c/32);c=(c*2)%64;if(++obc==8){if(o)
{printf"%c",o}else{system("echo -en "\0"")}obc=o=0}}}}';}</p>
<p>{
cat &lt;&lt;'ENDF'| $b64 |gunzip &gt;&gt;$ADB
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
AocMj8rT81cK0v4De76CG9wPAAA=
ENDF
}</p>
<p>chmod 775 $ADB
$ADB
AUP
[/code]</p>
<p>Eso es todo. En serio.</p>
<p>Ahora disfruta de una navegación sin publicidad en cualquier dispositivo conectado a Internet a través de tu router, incluidos media-centers, smart-tv, fonos/tablets con Android e iOS, computadores, notebooks, consolas, etc.</p>
<p>Vamos al detalle, por si quieren manejar en detalle el bloqueo.</p>
<h2 id="como-configurar-el-script">¿Cómo configurar el script?</h2>
<p>**OPTIMISE="Y"**Acepta los valores Y o N. Yes y No. Al activarlo (Y) el script removerá los hosts duplicados desde las fuentes, antes de aplicar el bloqueo. Útil por si cargan múltiples fuentes de archivos hosts con dominios a bloquear.</p>
<p>**GETS="1 2 3 4 5 6"**Le indica que fuentes debe leer. Son números separados por espacios. Las fuentes las definimos luego.</p>
<p><strong>TRIM_BEGIN=3</strong>Cada fuente debe tener un formato específico para este script. El formato es similar a esto:</p>
<p>[code]</p>
<p>dominio1.com
dominio2.com
otrodominio.cl
masdominios.xyz
etc.io</p>
<p>[/code]</p>
<p>Sin embargo hay archivos hosts pre-hechos en linea, pero que vienen en el formato:</p>
<p>[code]</p>
<p>127.0.0.1 dominio1.com
127.0.0.1 dominio2.com
0.0.0.0 otrodominio.cl
0.0.0.0 masdominios.xyz
0.0.0.0 etc.io</p>
<p>[/code]</p>
<p>Ese formato permite aplicar ese listado directamente en el archivo hosts de un computador (C:WindowsSystem32driversetchosts o /etc/hosts en Linux y OSX). Pero nosotros no queremos configurar cada equipo por si solo (ni hablar de equipos que no sean computadores, sin este manejo de hosts nativo). Este formato que no sirve para este script.</p>
<p>Ahí entra en juego la configuración TRIM_BEGIN. Al definir TRIM_BEGIN=3, le dices que desde la fuente 3 hasta el final, debe adaptar el formato de los hosts y dejar solo los dominios a bloquear.</p>
<p>Entonces, por ejemplo, <a class="external" rel="noopener external" target="_blank" href="http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml">esta lista</a> no necesita formato para este script, pero <a class="external" rel="noopener external" target="_blank" href="http://www.malwaredomainlist.com/hostslist/hosts.txt">esta otra lista</a> si necesita formato. Simple. Debes tenerlo en mente para colocar primero las fuentes con el formato necesario, y finalmente las fuentes que requieran adaptar el formato.</p>
<p><strong>S1 al SX</strong>Las fuentes se definen como S (source) seguido de un número. Así:</p>
<p>[code]</p>
<p>S1="http://dominio.tld/dominios.txt"
S2="http://dominio.tld/hosts.txt"</p>
<p>[/code]</p>
<p>Pueden colocar cuantas fuentes quieran. Pero cuidado: cada fuente, mientras más grande es, más pesado vuelve el proceso de este script, más memoria se consume al momento de procesar (al iniciar el router) y el script puede terminar simplemente no ejecutándose. Prueben con dos o tres fuentes. No necesitan definir decenas. Escojan un archivo de fuentes (recuerden si necesita aplicársele TRIM_BEGIN o no) y quédense con el.</p>
<p>Pueden crear su propio archivo de hosts y subirlo a algún lado, y decirle al script que lo descargue. Así lo hago acá cuando encuentro publicidad que se salta los hosts que ya tengo aplicados.</p>
<p><strong>USEWHITELIST</strong>Este set de settings (seguido de USEWHITELIST) les permite especificar urls que no quieren bloquear. En caso que alguna lista de bloqueo cargada antes bloquee un servicio que ustedes necesitan (porque trabajan en publicidad o porque les gusta ver algún banner), pueden añadirlo en la lista blanca.</p>
<p>Un dominio por linea, tanto en el WHITE como en el BLACK (si, pueden añadir dominios en la lista negra igual).</p>
<p>Y para si, N para no, R para remoto. Si usan remoto, deben añadir una url en WURL donde suban una lista de dominios (uno por linea) que desean que nunca sean bloqueados, no importando si están en una lista de dominios de las fuentes anteriores.</p>
<p><strong>USEPIXELSERV</strong>Les permite servir un pixel vacío en vez de bloquear la conexión completa. Algunas aplicaciones o publicidad en general se molestan cuando no pueden llegar a la publicidad que estaban pidiendo, y en vez de dejar de molestar, joroban al servidor volviendo a pedir una y otra vez la publicidad, sin detenerse. Esto puede resultar en un consumo de cpu excesivo (de nuevo, en el caso de algunas Apps, por ejemplo). Algunas web en cambio te bloquean si tu les bloqueas la publicidad. Al servir un pixel transparente, el bloqueo continúa funcionando (mostrando ese pixel transparente) y el app o sitio web nunca tiene idea la publicidad ha sido bloqueada.</p>
<p>Revisen como configurar <a class="external" rel="noopener external" target="_blank" href="http://proxytunnel.sourceforge.net/pixelserv.php">Pixelserv</a> en el tema en <a class="external" rel="noopener external" target="_blank" href="http://www.linksysinfo.org/index.php?threads/all-u-need-ad-blocking.33191/">linksysinfo</a>.</p>
<p>No es obligatorio. No se calienten la cabeza.</p>
<p><strong>UPLOAD</strong>Permite subir el mix de dominios bloqueados, ya procesados, a un servidor. Luego pueden decirle al router que use solo ese resultado como archivo para buscar dominios a bloquear. Es más rápido de aplicar al iniciar el router, pero no necesario. Sin optimización, dicen, el script puede demorar hasta 6 minutos en terminar de procesar los hosts para iniciar el bloqueo de dominios una vez que lo reinician (sobre todo si usan DNS Cache Poisoning, luego más sobre esto); el router sigue funcionando antes de esos 6 minutos, el bloqueo de dominios es el que demora en hacer efecto. Si no les molesta ese delay, no hay problema con ignorar esta configuración.</p>
<p>Yo no la uso.</p>
<p>Revisen como configurarlo en el tema en <a class="external" rel="noopener external" target="_blank" href="http://www.linksysinfo.org/index.php?threads/all-u-need-ad-blocking.33191/">linksysinfo</a>.</p>
<p><strong>ADD_CONF</strong>Lean sobre eso en <a class="external" rel="noopener external" target="_blank" href="http://www.linksysinfo.org/index.php?threads/all-u-need-ad-blocking.33191/">linksysinfo</a>. No les daré detalles acá.</p>
<p>Normalmente no necesitan cambiar esto.</p>
<p><strong>UPDATE</strong>Auto-actualiza desde las fuentes el bloqueo de dominios, todos los días a las 4 de la madrugada. Recomendado dejarlo en Y.</p>
<p><strong>USEHOSTS</strong>Acepta Y para si, N para no.</p>
<p>Al usar Y, el router bloqueará los dominios como si fuera un archivo hosts. Al usar N, el router usará la técnica DNS Cache Poisoning para bloquear los dominios.</p>
<p>La diferencia es sencilla. El bloqueo por hosts es limitado al dominio en que se usa y no todos sus subdominios, en cambio el DNS Cache Poisoning afecta a todo el dominio y sus subdominios.</p>
<p>Por ejemplo, si tienen bloqueado dominio.com y <strong>ad1</strong>.dominio.com, con el método de hosts, un nuevo subdominio <strong>ad2</strong>.dominio.com no sería bloqueado. En cambio, con el método DNS Cache Poisoning, basta con bloquear dominio.com para que automáticamente <strong>ad1</strong>.dominio.com, <strong>ad2</strong>.dominio.com, <strong>ad3</strong>.dominio.com y cualquier <strong>adloquesea</strong>.dominio.com sea bloqueado también.</p>
<p>Pueden probar a ver cual les acomoda más. El creador del script recomienda dejar esta configuración en N para usar DNS Cache Poisoning. El método con el Hosts, en Y, es más rápido de inicializar para el router. Ustedes ven. Prueben y decidan.</p>
<p>Ojo que luego de reiniciado el router, los equipos en casa se demoran en "ver" la configuración. Una vez conectados, entre que el router se toma los 6 minutos para configurar el Adblock y que los equipos actualicen su caché de dns por las nuevas propagadas por dnsmasq con el poisoning o por el bloqueo de hosts (dependiendo del método que estén usando), pueden pasar varios minutos antes que efectivamente noten la publicidad bloqueada. Esperen unos 15 minutos después de reiniciado el router antes de probar y decidir si el bloqueo está funcionando o no. Paciencia.</p>
<h2 id="como-probar-el-bloqueo">¿Cómo probar el bloqueo?</h2>
<p>Ingresen (con su navegador) a cualquier sitio repleto de publicidad; desactiven Adblock Plus o uBlock Origin antes, claro. Cualquier sitio lleno de avisos, como algún diario nacional o magazine tecnológico. Es fácil darse cuenta si está funcionando o no. O entren a <a class="external" rel="noopener external" target="_blank" href="http://ads-blocker.com/testing/">este test de adblock</a>; si no ven publicidad de Google dentro (Adsense) vuestro bloqueo desde el router está funcionando correctamente.</p>
<p>Este bloqueo de publicidad es mucho más rápido y amigable con la ram de sus equipos <a class="external" rel="noopener external" target="_blank" href="https://www.google.cl/search?q=adblock+plus+chrome+lag+slow">que el que ofrece Adblock o uBlock</a>. Es el router el que bloquea después de todo.</p>
<p>Ahora cualquier dispositivo conectado a la red de vuestra casa estará inoculado de publicidad, sin necesidad de hacer nada en el dispositivo en particular. Con una fuente de hosts decente y con actualizaciones, ni si quiera prerolls en YouTube en vuestros móviles o en un Chromecast.</p>
<p>Ah, este bloqueo también los puede salvar de muchos dominios de malware conocidos, <a class="external" rel="noopener external" target="_blank" href="http://www.malwaredomainlist.com/hostslist/hosts.txt">gracias a listas como esta</a>.</p>
<p>¿Qué tal? :)</p>

        </section>

        
        
        

        
            
            
            

            
                
                
            
        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
        
            

<div id="comments" class="comments"


    data-repo="EstebanForge&#x2F;actitud-xyz-comments"
    data-repo-id="R_kgDOOBr8yA"
    data-category="Blog"
    data-category-id="DIC_kwDOOBr8yM4Cq3u8"
    
        data-mapping="pathname"
    
    data-strict="0"
    data-reactions-enabled="1"
    
        data-input-position="top"
    
    data-light-theme="noborder_light"
    data-dark-theme="noborder_dark"
    
        data-lang="en"
    
    data-lazy-loading="true"
    >




    <script src="https://actitud.xyz/js/giscus.min.js" async></script>


<noscript>You need JavaScript to view the comments.</noscript>
</div>

        

    </article>
</main>

    <div id="button-container">
        
        
            <div id="toc-floating-container">
                <input type="checkbox" id="toc-toggle" class="toggle"/>
                <label for="toc-toggle" class="overlay"></label>
                <label for="toc-toggle" id="toc-button" class="button" title="Toggle Table of Contents">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg>
                </label>
                <div class="toc-content">
                    

<div class="toc-container">
    

    <ul>
        
            
            
                <li><a href="https://actitud.xyz/blog/2016/bloqueo-de-publicidad-y-malware-para-cualquier-dispositivo-en-vuestro-hogar/#como-instalar-tomato-en-un-asus-rt-n66u-y-en-un-asus-rt-ac66u">¿Cómo instalar Tomato en un Asus RT-N66U y en un Asus RT-AC66U?</a>
                    
                </li>
            
        
            
            
                <li><a href="https://actitud.xyz/blog/2016/bloqueo-de-publicidad-y-malware-para-cualquier-dispositivo-en-vuestro-hogar/#ya-tienes-tomato-corriendo-en-tu-router-el-que-sea-como-aplicar-adblock-a-nivel-del-router">Ya tienes Tomato corriendo en tu router (el que sea). ¿Como aplicar Adblock a nivel del router?.</a>
                    
                </li>
            
        
            
            
                <li><a href="https://actitud.xyz/blog/2016/bloqueo-de-publicidad-y-malware-para-cualquier-dispositivo-en-vuestro-hogar/#como-configurar-el-script">¿Cómo configurar el script?</a>
                    
                </li>
            
        
            
            
                <li><a href="https://actitud.xyz/blog/2016/bloqueo-de-publicidad-y-malware-para-cualquier-dispositivo-en-vuestro-hogar/#como-probar-el-bloqueo">¿Cómo probar el bloqueo?</a>
                    
                </li>
            
        
    </ul>
</div>


                </div>
            </div>
        

        
        
            <a href="#comments" id="comments-button" class="no-hover-padding" title="Go to the comments section">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" fill-rule="evenodd"/></svg>
            </a>
        

        
        <a href="#" id="top-button" class="no-hover-padding" title="Go to the top of the page">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg>
        </a>
    </div>


<script defer src="https://cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"></script><span id="copy-success" class="hidden">
        Copied!
    </span>
    <span id="copy-init" class="hidden">
        Copy code to clipboard
    </span>
    <script defer src="https://actitud.xyz/js/copyCodeToClipboard.min.js"></script>

<script defer src="https://actitud.xyz/js/codeBlockNameLinks.min.js"></script>
    </div>
    <footer>
    <section>
        <nav class="socials nav-navs"><ul><li>
                        <a class="nav-links no-hover-padding social" rel="noopener" target=_blank

 href="https://actitud.xyz/atom.xml">
                        <img loading="lazy" alt="feed" title="feed" src="https://actitud.xyz/social_icons/rss.svg">
                        </a>
                    </li><li class="js"><a class="nav-links no-hover-padding social" href="#" data-encoded-email="ZXN0ZWJhbkBhdHRpdHVkZS5jbA=="><img loading="lazy" alt="email" title="email" src="https://actitud.xyz/social_icons/email.svg">
                            </a>
                        </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding social" rel="noopener me" target=_blank

 href="https://github.com/EstebanForge/">
                                    <img loading="lazy" alt="github" title="github" src="https://actitud.xyz/social_icons/github.svg">
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding social" rel="noopener me" target=_blank

 href="https://twitter.com/EstebanForge">
                                    <img loading="lazy" alt="twitter" title="twitter" src="https://actitud.xyz/social_icons/twitter.svg">
                                </a>
                            </li>
                        
                    
                </ul>
            
        </nav>

        
        <nav class="nav-navs">
        </nav>

        <div class="credits">
            <small>
                
    
    
    
    
        
    
        
    

    

    
    
    

    
    
    <p><p>© 1999-2026 Esteban Cuevas • Unless otherwise noted, the content in this website is available under the <a class="external" rel="noopener external" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.</p>
</p>

                </small>
        </div>
    </section>

    <script src="https://actitud.xyz/js/decodeMail.min.js" async></script><div id="searchModal" class="search-modal js" role="dialog" aria-labelledby="modalTitle">
    <h1 id="modalTitle" class="visually-hidden">Search</h1>
    <div id="modal-content">
        <div id="searchBar">
            <div class="search-icon" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                    <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                </svg>
            </div>
            <input id="searchInput" role="combobox" autocomplete="off" spellcheck="false" aria-expanded="false" aria-controls="results-container" placeholder="Search…"/>
            <div id="clear-search" class="close-icon interactive-icon" tabindex="0" role="button" title="Clear search">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </div>
        </div>
        <div id="results-container">
            <div id="results-info"><span id="zero_results"> No results</span>
                <span id="one_results"> $NUMBER result</span>
                <span id="many_results"> $NUMBER results</span><span id="two_results"> $NUMBER results</span>
                <span id="few_results"> $NUMBER results</span>
            </div>
            <div id="results" role="listbox"></div>
        </div>
    </div>
</div>
</footer>

</body>

</html>
